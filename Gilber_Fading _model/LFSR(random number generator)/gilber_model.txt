The gilbert_model contains gamma scenarios, with PGB = 0.05 and PBG = 0.2, rand_val is a example of random number generator from chatgpt but it seems not updating generated value. 
Observation: when rand_val > 0.05, state is always at GOOD, where as when rand_val < 0.05, state transition is GBGBGBGBGBGB never stops.
To be issued: It might because of not updated rand_val.
